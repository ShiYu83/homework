##  软件概要设计文档

###  系统架构设计

text

```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   前端展示层    │    │   业务应用层    │    │   数据服务层    │
│                 │    │                 │    │                 │
│ ├─────────────┤ │    │ ├─────────────┤ │    │ ├─────────────┤ │
│ │    Web端    │ │    │ │   API网关   │ │    │ │   MySQL     │ │
│ ├─────────────┤ │    │ ├─────────────┤ │    │ ├─────────────┤ │
│ │  移动APP    │ │    │ │ 用户服务    │ │    │ │   Redis     │ │
│ ├─────────────┤ │    │ │ 预约服务    │ │    │ ├─────────────┤ │
│ │  小程序     │ │    │ │ 排班服务    │ │    │ │ Elasticsearch│
│ └─────────────┘ │    │ │ 支付服务    │ │    │ └─────────────┘ │
│                 │    │ └─────────────┘ │    │                 │
└─────────────────┘    └─────────────────┘    └─────────────────┘
```

### 技术架构

**前端技术栈**

- Vue 3.4.0 + TypeScript 5.3.3
- Element Plus 2.4.4 UI组件库
- Axios 1.6.2 HTTP客户端
- Vue Router 4.2.5 路由管理
- Vite 5.0.8 构建工具
- Pinia 2.1.7 状态管理（已配置，当前未使用）

**后端技术栈**

- Spring Boot 3.2.0
- Spring Security + JWT (jjwt 0.12.3)
- MyBatis-Plus 3.5.5
- MySQL 8.0
- Redis缓存（已配置，当前未使用）
- BCrypt密码加密

**基础设施**

- Docker容器化部署（MySQL、Redis）
- MySQL 8.0数据库
- Redis缓存（可选）
- 支持本地开发和Docker部署两种方式

###  模块划分

| 模块名称     | 职责描述           | 主要接口                                           |
| ------------ | ------------------ | -------------------------------------------------- |
| 用户服务     | 用户认证、权限管理 | 登录、注册、权限验证、获取当前用户信息             |
| 预约服务     | 挂号业务处理       | 查询号源、创建预约、取消预约、修改预约、查询预约   |
| 排班服务     | 医生排班管理       | 排班查询、号源生成、排班管理                       |
| 支付服务     | 费用处理           | 创建订单、执行支付、创建合并订单、退款处理         |
| 病例服务     | 病例管理           | 创建病例、查询病例、根据预约查询病例               |
| 处方服务     | 处方管理           | 创建处方、查询处方详情、根据预约查询处方           |
| 药品服务     | 药品管理           | 查询药品、创建药品、更新药品、上架/下架药品        |
| 医生管理服务 | 医生功能           | 查看医生信息、调班申请、患者队列、叫号             |
| 管理员服务   | 系统管理           | 医生管理、患者管理、科室管理、诊室管理、排班管理、药品管理、统计分析 |

### 前端页面模块

#### 患者端页面

| 页面路径              | 组件名称           | 功能描述                           |
| --------------------- | ------------------ | ---------------------------------- |
| /                     | Home.vue           | 系统首页                           |
| /login                | Login.vue          | 用户登录                           |
| /register             | Register.vue       | 患者注册                           |
| /guide                | Guide.vue          | 智能导诊                           |
| /appointment          | Appointment.vue    | 预约挂号                           |
| /my-appointments      | MyAppointments.vue  | 我的预约（查看、取消、修改、支付） |
| /payment              | Payment.vue        | 支付订单                           |
| /profile              | PatientProfile.vue  | 个人信息                           |
| /queue                | Queue.vue          | 候诊队列                           |

#### 医生端页面

| 页面路径            | 组件名称          | 功能描述                     |
| ------------------- | ----------------- | ---------------------------- |
| /doctor/info        | DoctorInfo.vue    | 医生信息                     |
| /doctor/schedule    | ScheduleManage.vue| 调班管理                     |
| /doctor/queue       | PatientQueue.vue   | 患者队列（叫号、查看病例）   |
| /doctor/diagnosis   | Diagnosis.vue      | 看病开药（填写诊断、开具处方）|

#### 管理员端页面

| 页面路径                      | 组件名称                    | 功能描述     |
| ----------------------------- | --------------------------- | ------------ |
| /admin                        | AdminDashboard.vue          | 管理员控制台 |
| /admin/doctors                | DoctorsManage.vue           | 医生管理     |
| /admin/patients                | PatientsManage.vue          | 患者管理     |
| /admin/departments             | DepartmentsManage.vue       | 科室管理     |
| /admin/rooms                   | RoomsManage.vue             | 诊室管理     |
| /admin/schedules               | SchedulesManage.vue         | 号源管理     |
| /admin/medicines               | MedicinesManage.vue         | 药品管理     |
| /admin/schedule-adjustments    | ScheduleAdjustmentsManage.vue| 调班审核     |
| /admin/statistics              | Statistics.vue              | 数据统计     |