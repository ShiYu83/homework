# 查看数据库数据指南

## 方法一：使用 Docker 命令（推荐）

### 查看所有部门数据
```bash
docker exec hospital-mysql mysql -uhospital_user -phospital123 hospital -e "SELECT * FROM department;"
```

### 查看部门名称和描述（格式化输出）
```bash
docker exec hospital-mysql mysql -uhospital_user -phospital123 hospital -e "SELECT id, name, code, description, status FROM department;"
```

### 查看医生数据
```bash
docker exec hospital-mysql mysql -uhospital_user -phospital123 hospital -e "SELECT * FROM doctor;"
```

### 查看患者数据
```bash
docker exec hospital-mysql mysql -uhospital_user -phospital123 hospital -e "SELECT * FROM patient;"
```

### 查看预约数据
```bash
docker exec hospital-mysql mysql -uhospital_user -phospital123 hospital -e "SELECT * FROM appointment;"
```

## 方法二：进入 MySQL 容器交互式查询

```bash
# 进入 MySQL 容器
docker exec -it hospital-mysql mysql -uhospital_user -phospital123 hospital

# 然后在 MySQL 命令行中执行：
USE hospital;
SELECT * FROM department;
SELECT * FROM doctor;
SELECT * FROM patient;
SELECT * FROM appointment;
SELECT * FROM schedule;
SELECT * FROM sys_user;

# 退出
exit;
```

## 方法三：使用 MySQL 客户端工具

### 连接信息
- **主机**: localhost
- **端口**: 3306
- **用户名**: hospital_user
- **密码**: hospital123
- **数据库**: hospital

### 常用查询语句

```sql
-- 查看所有部门
SELECT * FROM department;

-- 查看所有医生
SELECT * FROM doctor;

-- 查看部门及其医生数量
SELECT d.id, d.name, COUNT(doc.id) as doctor_count
FROM department d
LEFT JOIN doctor doc ON d.id = doc.department_id
GROUP BY d.id, d.name;

-- 查看患者信息
SELECT * FROM patient;

-- 查看预约记录
SELECT a.*, p.name as patient_name, doc.name as doctor_name
FROM appointment a
LEFT JOIN patient p ON a.patient_id = p.id
LEFT JOIN doctor doc ON a.doctor_id = doc.id
ORDER BY a.create_time DESC;
```

## 方法四：通过后端 API 接口

### 查看部门列表
```bash
curl http://localhost:9090/api/department/list
```

### 查看医生列表
```bash
curl http://localhost:9090/api/doctor/list
```

### 查看特定科室的医生
```bash
curl http://localhost:9090/api/doctor/list?departmentId=1
```

## 方法五：检查字符编码

### 查看数据库字符集
```bash
docker exec hospital-mysql mysql -uhospital_user -phospital123 hospital -e "SHOW VARIABLES LIKE 'character%';"
```

### 查看表的字符集
```bash
docker exec hospital-mysql mysql -uhospital_user -phospital123 hospital -e "SHOW CREATE TABLE department\G"
```

### 测试中文显示
```bash
docker exec hospital-mysql mysql -uhospital_user -phospital123 hospital -e "SET NAMES utf8mb4; SELECT name, description FROM department;"
```

## 快速检查脚本

### Windows PowerShell
```powershell
# 查看部门数据
docker exec hospital-mysql mysql -uhospital_user -phospital123 hospital -e "SELECT id, name, code, description FROM department;"

# 查看医生数据
docker exec hospital-mysql mysql -uhospital_user -phospital123 hospital -e "SELECT id, name, department_id, title, specialty FROM doctor;"
```

### Linux/Mac
```bash
# 查看部门数据
docker exec hospital-mysql mysql -uhospital_user -phospital123 hospital -e "SELECT id, name, code, description FROM department;"

# 查看医生数据
docker exec hospital-mysql mysql -uhospital_user -phospital123 hospital -e "SELECT id, name, department_id, title, specialty FROM doctor;"
```

## 注意事项

1. **字符编码问题**：如果看到乱码，可能是终端编码问题，不是数据库问题
2. **密码安全**：生产环境不要直接在命令行使用密码
3. **数据备份**：修改数据前建议先备份

