## 软件需求规格说明书

### 项目概述

**项目名称**：智能医院挂号管理系统
**项目目标**：开发一套集患者管理、医生排班、在线挂号、就诊流程管理于一体的智能化医院挂号系统
**项目范围**：覆盖预约挂号全流程，包括患者端、医生端、管理端三大模块

### 用户角色定义

| 角色       | 职责描述       | 主要功能                                 |
| ---------- | -------------- | ---------------------------------------- |
| 患者       | 系统主要使用者 | 注册、查询、预约、取消挂号、修改预约、查看就诊记录、查看病例和处方、支付订单 |
| 医生       | 医疗服务提供者 | 查看排班、管理患者队列、叫号、填写诊断记录、开具处方、查看历史病例 |
| 系统管理员 | 系统维护者     | 用户管理、医生管理、患者管理、科室管理、诊室管理、排班管理、药品管理、权限分配、数据统计 |

### 功能需求

#### 患者管理模块

**用户注册**

- 手机号验证注册
- 实名认证（对接公安系统）
- 医保信息绑定

**患者信息管理**

- 个人基本信息维护
- 就诊卡管理
- 过敏史、病史记录
- 家庭成员管理（为家人挂号）
- 诚信度管理（预约信誉评分）

#### 医生排班管理

**排班计划管理**

- 科室排班模板设置
- 医生个人排班调整
- 调班申请和审核
- 节假日特殊排班
- 停诊、替诊管理

**号源管理**

- 号源数量设置
- 分时段号源分配
- 号源状态实时更新

#### 预约挂号模块

**智能导诊**

- 症状自查引导
- 科室推荐算法
- 医生专长匹配

**预约功能**

- 按科室挂号
- 按医生挂号
- 专家门诊预约
- 普通门诊预约
- 预约时间选择

**预约管理**

- 预约记录查询
- 预约取消（提前规则）
- 预约改签
- 预约状态管理（待支付、已预约、已取消、已完成）
- 支付后自动更新为已完成状态
- 爽约记录管理

####  就诊流程管理

**候诊队列**

- 实时排队信息
- 预计等待时间
- 过号处理机制

**叫号系统**

- 语音叫号
- 屏幕显示
- 微信/短信提醒

**病例管理**

- 医生填写诊断记录（症状、诊断结果、医嘱建议）
- 患者查看病例信息
- 医生查看历史病例

**处方管理**

- 医生开具处方（选择药品、设置数量）
- 处方明细管理
- 处方支付状态跟踪
- 患者查看处方详情

**药品管理**

- 药品信息维护（名称、价格、规格、库存）
- 药品上架/下架管理
- 药品分类管理

#### 支付结算模块

**费用管理**

- 挂号费支付
- 药品费支付
- 合并订单支付（挂号费+药品费）
- 多种支付方式（微信、支付宝、医保）
- 退款处理
- 支付状态跟踪
- 发票管理

#### 系统管理模块

**用户管理**

- 医生信息管理（增删改查）
- 患者信息管理（增删改查）
- 用户权限管理

**基础数据管理**

- 科室信息管理（增删改查）
- 诊室信息管理（增删改查）
- 排班信息管理（增删改查）
- 药品信息管理（增删改查、上架下架）

**业务管理**

- 调班申请审核
- 预约记录查询
- 支付记录查询

**数据统计**

- 预约统计（总预约数、待支付、已预约、已取消、已完成）
- 排班统计（总排班数、总号源数、已预约数、剩余号源、号源利用率）
- 支持按时间范围筛选

### 非功能需求

####  性能需求

- 系统响应时间：页面加载<3秒，关键操作<2秒
- 并发用户数：支持5000用户同时在线
- 数据处理：日挂号量支持10000笔

#### 安全需求

- 用户认证：JWT Token认证机制
- 密码安全：BCrypt加密存储
- 权限控制：基于角色的访问控制（RBAC）
- 数据传输加密（HTTPS，开发环境为HTTP）
- 患者隐私数据保护
- 防SQL注入、XSS攻击
- API接口权限验证（@RequireRole注解）
- 操作日志记录

#### 可用性需求

- 系统可用性：99.5%
- 支持7×24小时服务
- 故障恢复时间<30分钟