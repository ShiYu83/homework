# 项目结构说明

## 目录结构

```
homework4/
├── hospital-backend/              # 后端项目
│   ├── src/
│   │   ├── main/
│   │   │   ├── java/com/hospital/
│   │   │   │   ├── HospitalApplication.java    # 启动类
│   │   │   │   ├── config/                     # 配置类
│   │   │   │   │   ├── WebConfig.java          # Web配置（CORS）
│   │   │   │   │   └── SecurityConfig.java     # 安全配置
│   │   │   │   ├── controller/                 # 控制器层
│   │   │   │   │   ├── PatientController.java
│   │   │   │   │   ├── AppointmentController.java
│   │   │   │   │   ├── DepartmentController.java
│   │   │   │   │   └── DoctorController.java
│   │   │   │   ├── service/                    # 业务层
│   │   │   │   │   ├── PatientService.java
│   │   │   │   │   ├── AppointmentService.java
│   │   │   │   │   └── impl/                   # 实现类
│   │   │   │   ├── repository/                 # 数据访问层
│   │   │   │   │   ├── PatientRepository.java
│   │   │   │   │   ├── AppointmentRepository.java
│   │   │   │   │   ├── DepartmentRepository.java
│   │   │   │   │   ├── DoctorRepository.java
│   │   │   │   │   └── ScheduleRepository.java
│   │   │   │   ├── entity/                     # 实体类
│   │   │   │   │   ├── Patient.java
│   │   │   │   │   ├── Doctor.java
│   │   │   │   │   ├── Department.java
│   │   │   │   │   ├── Schedule.java
│   │   │   │   │   └── Appointment.java
│   │   │   │   └── dto/                        # 数据传输对象
│   │   │   │       ├── PatientRegisterDTO.java
│   │   │   │       ├── AppointmentCreateDTO.java
│   │   │   │       └── TimeSlotDTO.java
│   │   │   └── resources/
│   │   │       ├── application.yml
│   │   │       └── application-dev.yml
│   │   └── test/                                # 测试代码
│   ├── pom.xml                                  # Maven配置
│   └── README.md
│
├── hospital-frontend/            # 前端项目
│   ├── src/
│   │   ├── api/                 # API接口
│   │   │   ├── request.ts       # Axios配置
│   │   │   ├── patient.ts
│   │   │   ├── appointment.ts
│   │   │   ├── department.ts
│   │   │   └── doctor.ts
│   │   ├── views/               # 页面组件
│   │   │   ├── Home.vue         # 首页
│   │   │   ├── Register.vue     # 注册页面
│   │   │   ├── Appointment.vue  # 预约页面
│   │   │   └── MyAppointments.vue # 我的预约
│   │   ├── router/              # 路由配置
│   │   │   └── index.ts
│   │   ├── App.vue              # 根组件
│   │   └── main.ts              # 入口文件
│   ├── index.html
│   ├── package.json
│   ├── vite.config.ts
│   ├── tsconfig.json
│   └── README.md
│
├── sql/                          # 数据库脚本
│   └── init.sql                  # 初始化脚本
│
├── docker-compose.yml            # Docker Compose配置
├── start.sh                      # Linux/Mac启动脚本
├── start.bat                     # Windows启动脚本
├── .gitignore
├── README.md                     # 项目说明
└── 项目文档/                      # 项目文档
    ├── 1、软件需求规格说明书.md
    ├── 2、软件概要设计文档.md
    ├── 3. 软件详细设计文档.md
    ├── 4. 数据库详细设计文档.md
    ├── 5. 测试文档.md
    ├── 6、用户手册.md
    ├── 环境.md
    └── 大模型协作过程记录.md
```

## 核心功能实现

### 后端API接口

1. **患者管理**
   - `POST /api/patient/register` - 患者注册
   - `GET /api/patient/{id}` - 查询患者信息
   - `PUT /api/patient/update` - 更新患者信息

2. **预约管理**
   - `GET /api/appointment/available-slots` - 查询可预约号源
   - `POST /api/appointment/create` - 创建预约
   - `POST /api/appointment/cancel/{id}` - 取消预约
   - `GET /api/appointment/patient/{patientId}` - 查询患者预约记录

3. **科室医生**
   - `GET /api/department/list` - 获取科室列表
   - `GET /api/department/{id}` - 获取科室详情
   - `GET /api/doctor/list` - 获取医生列表
   - `GET /api/doctor/{id}` - 获取医生详情

### 前端页面

1. **首页 (Home.vue)**
   - 系统介绍
   - 功能入口导航

2. **注册页面 (Register.vue)**
   - 患者信息注册表单
   - 表单验证

3. **预约页面 (Appointment.vue)**
   - 四步预约流程
   - 科室选择
   - 医生选择
   - 时间选择
   - 预约确认

4. **我的预约 (MyAppointments.vue)**
   - 预约记录列表
   - 取消预约功能

## 数据库表结构

1. **patient** - 患者表
2. **doctor** - 医生表
3. **department** - 科室表
4. **schedule** - 排班表
5. **appointment** - 预约记录表
6. **sys_user** - 系统用户表

## 技术栈

### 后端
- Spring Boot 3.2.0
- MyBatis-Plus 3.5.5
- MySQL 8.0
- Redis
- RabbitMQ
- Elasticsearch

### 前端
- Vue 3.4.0
- TypeScript
- Element Plus 2.4.4
- Vite 5.0.8
- Pinia 2.1.7
- Vue Router 4.2.5
- Axios 1.6.2

## 启动步骤

1. 启动基础设施：`docker-compose up -d`
2. 启动后端：`cd hospital-backend && mvn spring-boot:run`
3. 启动前端：`cd hospital-frontend && npm install && npm run dev`

## 访问地址

- 前端：http://localhost:3000
- 后端API：http://localhost:9090/api
- RabbitMQ管理：http://localhost:15672 (admin/admin123)
- Elasticsearch：http://localhost:9200

